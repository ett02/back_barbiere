import{a as Q,b as X,c as Z,d as $,e as ee,f as te,g as ne,h as ie,i as re,j as ae}from"./chunk-E6AAK6AK.js";import{c as K}from"./chunk-CZFM6TBO.js";import{a as se}from"./chunk-JIQ2QYEN.js";import{$a as R,Ba as L,Cb as G,Db as U,Fa as _,Hb as J,La as p,Ma as r,Na as a,Nb as oe,Pa as D,Qa as O,R as F,Ra as x,Sa as u,Ta as d,Ua as y,Va as B,X as m,Xa as s,Y as g,Ya as k,Za as C,_a as W,a as z,ab as v,b as V,bb as f,cb as h,eb as E,fb as N,hb as H,ib as S,pa as l,xb as Y,yb as j,zb as q}from"./chunk-WQPBPXCL.js";var A=()=>({standalone:!0});function de(i,t){if(i&1&&(D(0),s(1),O()),i&2){let e=d().$implicit;l(),C(" ",e.nome," ")}}function pe(i,t){if(i&1){let e=x();r(0,"input",39),h("ngModelChange",function(n){m(e);let c=d(4);return f(c.editingService.nome,n)||(c.editingService.nome=n),g(n)}),a()}if(i&2){let e=d(4);v("ngModel",e.editingService.nome),p("ngModelOptions",E(2,A))}}function me(i,t){if(i&1&&(D(0),s(1),O()),i&2){let e=d().$implicit;l(),C(" ",e.durata," min ")}}function ge(i,t){if(i&1){let e=x();r(0,"input",40),h("ngModelChange",function(n){m(e);let c=d(4);return f(c.editingService.durata,n)||(c.editingService.durata=n),g(n)}),a()}if(i&2){let e=d(4);v("ngModel",e.editingService.durata),p("ngModelOptions",E(2,A))}}function _e(i,t){if(i&1&&(D(0),s(1),N(2,"number"),O()),i&2){let e=d().$implicit;l(),C(" \u20AC",H(2,1,e.prezzo,"1.2-2")," ")}}function ue(i,t){if(i&1){let e=x();r(0,"input",41),h("ngModelChange",function(n){m(e);let c=d(4);return f(c.editingService.prezzo,n)||(c.editingService.prezzo=n),g(n)}),a()}if(i&2){let e=d(4);v("ngModel",e.editingService.prezzo),p("ngModelOptions",E(2,A))}}function be(i,t){if(i&1&&(D(0),s(1),O()),i&2){let e=d().$implicit;l(),C(" ",e.descrizione," ")}}function xe(i,t){if(i&1){let e=x();r(0,"textarea",42),h("ngModelChange",function(n){m(e);let c=d(4);return f(c.editingService.descrizione,n)||(c.editingService.descrizione=n),g(n)}),a()}if(i&2){let e=d(4);v("ngModel",e.editingService.descrizione),p("ngModelOptions",E(2,A))}}function ve(i,t){if(i&1){let e=x();D(0),r(1,"button",43),u("click",function(){m(e);let n=d(4);return g(n.saveService())}),s(2,"Salva"),a(),r(3,"button",44),u("click",function(){m(e);let n=d(4);return g(n.cancelEditService())}),s(4,"Annulla"),a(),O()}}function fe(i,t){if(i&1){let e=x();r(0,"button",44),u("click",function(){m(e);let n=d().$implicit,c=d(3);return g(c.startEditService(n))}),s(1,"Modifica"),a()}}function he(i,t){if(i&1){let e=x();r(0,"tr")(1,"td"),_(2,de,2,1,"ng-container",36)(3,pe,1,3,"ng-template",null,1,S),a(),r(5,"td"),_(6,me,2,1,"ng-container",36)(7,ge,1,3,"ng-template",null,2,S),a(),r(9,"td"),_(10,_e,3,4,"ng-container",36)(11,ue,1,3,"ng-template",null,3,S),a(),r(13,"td",37),_(14,be,2,1,"ng-container",36)(15,xe,1,3,"ng-template",null,4,S),a(),r(17,"td",34),_(18,ve,5,0,"ng-container",36)(19,fe,2,0,"ng-template",null,5,S),r(21,"button",38),u("click",function(){let n=m(e).$implicit,c=d(3);return g(c.deleteService(n.id))}),s(22,"Elimina"),a()()()}if(i&2){let e=t.$implicit,o=y(4),n=y(8),c=y(12),P=y(16),T=y(20),b=d(3);l(2),p("ngIf",(b.editingService==null?null:b.editingService.id)!==e.id)("ngIfElse",o),l(4),p("ngIf",(b.editingService==null?null:b.editingService.id)!==e.id)("ngIfElse",n),l(4),p("ngIf",(b.editingService==null?null:b.editingService.id)!==e.id)("ngIfElse",c),l(4),p("ngIf",(b.editingService==null?null:b.editingService.id)!==e.id)("ngIfElse",P),l(4),p("ngIf",(b.editingService==null?null:b.editingService.id)===e.id)("ngIfElse",T)}}function Ce(i,t){if(i&1&&(r(0,"table",33)(1,"thead")(2,"tr")(3,"th"),s(4,"Nome"),a(),r(5,"th"),s(6,"Durata"),a(),r(7,"th"),s(8,"Prezzo"),a(),r(9,"th"),s(10,"Descrizione"),a(),r(11,"th",34),s(12,"Azioni"),a()()(),r(13,"tbody"),_(14,he,23,10,"tr",35),a()()),i&2){let e=d(2);l(14),p("ngForOf",e.services)}}function ye(i,t){i&1&&(r(0,"p",45),s(1,"Non ci sono servizi disponibili al momento."),a())}function Se(i,t){if(i&1){let e=x();r(0,"section",21)(1,"div",22)(2,"div")(3,"h2"),s(4,"Gestione Servizi"),a(),r(5,"p"),s(6,"Modifica o aggiungi i servizi offerti dal salone."),a()()(),r(7,"div",23)(8,"div",24)(9,"h3"),s(10,"Servizi disponibili"),a(),_(11,Ce,15,1,"table",25)(12,ye,2,0,"ng-template",null,0,S),a(),r(14,"div",26)(15,"h3"),s(16,"Aggiungi nuovo servizio"),a(),r(17,"form",27),u("ngSubmit",function(){m(e);let n=d();return g(n.createService())}),r(18,"label"),s(19," Nome "),r(20,"input",28),h("ngModelChange",function(n){m(e);let c=d();return f(c.newService.nome,n)||(c.newService.nome=n),g(n)}),a()(),r(21,"label"),s(22," Prezzo (\u20AC) "),r(23,"input",29),h("ngModelChange",function(n){m(e);let c=d();return f(c.newService.prezzo,n)||(c.newService.prezzo=n),g(n)}),a()(),r(24,"label"),s(25," Durata (min) "),r(26,"input",30),h("ngModelChange",function(n){m(e);let c=d();return f(c.newService.durata,n)||(c.newService.durata=n),g(n)}),a()(),r(27,"label"),s(28," Descrizione "),r(29,"textarea",31),h("ngModelChange",function(n){m(e);let c=d();return f(c.newService.descrizione,n)||(c.newService.descrizione=n),g(n)}),a()(),r(30,"button",32),s(31,"Aggiungi Servizio"),a()()()()()}if(i&2){let e=y(13),o=d();l(11),p("ngIf",o.services.length>0)("ngIfElse",e),l(9),v("ngModel",o.newService.nome),l(3),v("ngModel",o.newService.prezzo),l(3),v("ngModel",o.newService.durata),l(3),v("ngModel",o.newService.descrizione)}}function we(i,t){if(i&1&&(D(0),s(1),O()),i&2){let e=d().$implicit;l(),C(" ",e.nome," ")}}function Me(i,t){if(i&1){let e=x();r(0,"input",39),h("ngModelChange",function(n){m(e);let c=d(4);return f(c.editingBarber.nome,n)||(c.editingBarber.nome=n),g(n)}),a()}if(i&2){let e=d(4);v("ngModel",e.editingBarber.nome),p("ngModelOptions",E(2,A))}}function De(i,t){if(i&1&&(D(0),s(1),O()),i&2){let e=d().$implicit;l(),C(" ",e.cognome," ")}}function Oe(i,t){if(i&1){let e=x();r(0,"input",39),h("ngModelChange",function(n){m(e);let c=d(4);return f(c.editingBarber.cognome,n)||(c.editingBarber.cognome=n),g(n)}),a()}if(i&2){let e=d(4);v("ngModel",e.editingBarber.cognome),p("ngModelOptions",E(2,A))}}function Pe(i,t){if(i&1&&(D(0),s(1),O()),i&2){let e=d().$implicit;l(),C(" ",e.esperienza," ")}}function Ee(i,t){if(i&1){let e=x();r(0,"input",39),h("ngModelChange",function(n){m(e);let c=d(4);return f(c.editingBarber.esperienza,n)||(c.editingBarber.esperienza=n),g(n)}),a()}if(i&2){let e=d(4);v("ngModel",e.editingBarber.esperienza),p("ngModelOptions",E(2,A))}}function Be(i,t){if(i&1&&(D(0),s(1),O()),i&2){let e=d().$implicit;l(),C(" ",e.specialita," ")}}function Ae(i,t){if(i&1){let e=x();r(0,"input",39),h("ngModelChange",function(n){m(e);let c=d(4);return f(c.editingBarber.specialita,n)||(c.editingBarber.specialita=n),g(n)}),a()}if(i&2){let e=d(4);v("ngModel",e.editingBarber.specialita),p("ngModelOptions",E(2,A))}}function ze(i,t){if(i&1){let e=x();D(0),r(1,"button",43),u("click",function(){m(e);let n=d(4);return g(n.saveBarber())}),s(2,"Salva"),a(),r(3,"button",44),u("click",function(){m(e);let n=d(4);return g(n.cancelEditBarber())}),s(4,"Annulla"),a(),O()}}function ke(i,t){if(i&1){let e=x();r(0,"button",44),u("click",function(){m(e);let n=d().$implicit,c=d(3);return g(c.startEditBarber(n))}),s(1,"Modifica"),a()}}function Ie(i,t){if(i&1){let e=x();r(0,"tr")(1,"td"),_(2,we,2,1,"ng-container",36)(3,Me,1,3,"ng-template",null,7,S),a(),r(5,"td"),_(6,De,2,1,"ng-container",36)(7,Oe,1,3,"ng-template",null,8,S),a(),r(9,"td"),_(10,Pe,2,1,"ng-container",36)(11,Ee,1,3,"ng-template",null,9,S),a(),r(13,"td"),_(14,Be,2,1,"ng-container",36)(15,Ae,1,3,"ng-template",null,10,S),a(),r(17,"td",34),_(18,ze,5,0,"ng-container",36)(19,ke,2,0,"ng-template",null,11,S),r(21,"button",38),u("click",function(){let n=m(e).$implicit,c=d(3);return g(c.deleteBarber(n.id))}),s(22,"Elimina"),a()()()}if(i&2){let e=t.$implicit,o=y(4),n=y(8),c=y(12),P=y(16),T=y(20),b=d(3);l(2),p("ngIf",(b.editingBarber==null?null:b.editingBarber.id)!==e.id)("ngIfElse",o),l(4),p("ngIf",(b.editingBarber==null?null:b.editingBarber.id)!==e.id)("ngIfElse",n),l(4),p("ngIf",(b.editingBarber==null?null:b.editingBarber.id)!==e.id)("ngIfElse",c),l(4),p("ngIf",(b.editingBarber==null?null:b.editingBarber.id)!==e.id)("ngIfElse",P),l(4),p("ngIf",(b.editingBarber==null?null:b.editingBarber.id)===e.id)("ngIfElse",T)}}function Te(i,t){if(i&1&&(r(0,"table",33)(1,"thead")(2,"tr")(3,"th"),s(4,"Nome"),a(),r(5,"th"),s(6,"Cognome"),a(),r(7,"th"),s(8,"Esperienza"),a(),r(9,"th"),s(10,"Specialit\xE0"),a(),r(11,"th",34),s(12,"Azioni"),a()()(),r(13,"tbody"),_(14,Ie,23,10,"tr",35),a()()),i&2){let e=d(2);l(14),p("ngForOf",e.barbers)}}function Ve(i,t){i&1&&(r(0,"p",45),s(1,"Non ci sono barbieri registrati."),a())}function Fe(i,t){i&1&&(r(0,"div",60),s(1,"Caricamento servizi..."),a())}function We(i,t){if(i&1){let e=x();r(0,"label",63)(1,"input",64),u("change",function(n){let c=m(e).$implicit,P=d(5);return g(P.toggleServiceForEditingBarber(c.id,n.target.checked))}),a(),r(2,"span",65),s(3),N(4,"number"),a()()}if(i&2){let e=t.$implicit,o=d(5);l(),p("checked",o.editingBarberServiceIds.has(e.id)),l(2),R(" ",e.nome," (",e.durata," min \u2022 \u20AC",H(4,4,e.prezzo,"1.2-2"),") ")}}function Ne(i,t){if(i&1&&(r(0,"div",61),_(1,We,5,7,"label",62),a()),i&2){let e=d(4);l(),p("ngForOf",e.services)}}function He(i,t){if(i&1&&(r(0,"div",57),_(1,Fe,2,0,"div",58)(2,Ne,2,1,"div",59),a()),i&2){let e=d(3);l(),p("ngIf",!e.editingBarberServiceIds),l(),p("ngIf",e.editingBarberServiceIds)}}function Le(i,t){if(i&1&&(r(0,"span",68),s(1),a()),i&2){let e=t.$implicit,o=d(4);p("hidden",!o.editingBarberServiceIds.has(e.id)),l(),C(" ",e.nome," ")}}function Re(i,t){if(i&1&&(r(0,"div",66),_(1,Le,2,2,"span",67),a()),i&2){let e=d(3);l(),p("ngForOf",e.services)}}function Ye(i,t){if(i&1){let e=x();r(0,"div",52)(1,"div",53)(2,"div")(3,"h4"),s(4),a(),r(5,"p",54),s(6,"Seleziona quali servizi pu\xF2 offrire questo barbiere."),a()(),r(7,"button",44),u("click",function(){m(e);let n=d(2);return g(n.toggleServicesDropdown())}),s(8),a()(),_(9,He,3,2,"div",55)(10,Re,2,1,"div",56),a()}if(i&2){let e=d(2);l(4),W("Servizi erogati da ",e.editingBarber.nome," ",e.editingBarber.cognome),l(4),C(" ",e.servicesDropdownOpen?"Chiudi elenco":"Seleziona servizi"," "),l(),p("ngIf",e.servicesDropdownOpen),l(),p("ngIf",e.editingBarberServiceIds)}}function je(i,t){if(i&1){let e=x();r(0,"section",21)(1,"div",22)(2,"div")(3,"h2"),s(4,"Team di barbieri"),a(),r(5,"p"),s(6,"Gestisci i professionisti disponibili in salone."),a()()(),r(7,"div",46)(8,"div",24)(9,"h3"),s(10,"Barbieri attivi"),a(),_(11,Te,15,1,"table",25)(12,Ve,2,0,"ng-template",null,6,S),a(),_(14,Ye,11,5,"div",47),r(15,"div",26)(16,"h3"),s(17,"Aggiungi nuovo barbiere"),a(),r(18,"form",27),u("ngSubmit",function(){m(e);let n=d();return g(n.createBarber())}),r(19,"label"),s(20," Nome "),r(21,"input",48),h("ngModelChange",function(n){m(e);let c=d();return f(c.newBarber.nome,n)||(c.newBarber.nome=n),g(n)}),a()(),r(22,"label"),s(23," Cognome "),r(24,"input",49),h("ngModelChange",function(n){m(e);let c=d();return f(c.newBarber.cognome,n)||(c.newBarber.cognome=n),g(n)}),a()(),r(25,"label"),s(26," Esperienza "),r(27,"input",50),h("ngModelChange",function(n){m(e);let c=d();return f(c.newBarber.esperienza,n)||(c.newBarber.esperienza=n),g(n)}),a()(),r(28,"label"),s(29," Specialit\xE0 "),r(30,"input",51),h("ngModelChange",function(n){m(e);let c=d();return f(c.newBarber.specialita,n)||(c.newBarber.specialita=n),g(n)}),a()(),r(31,"button",32),s(32,"Aggiungi Barbiere"),a()()()()()}if(i&2){let e=y(13),o=d();l(11),p("ngIf",o.barbers.length>0)("ngIfElse",e),l(3),p("ngIf",o.editingBarber),l(7),v("ngModel",o.newBarber.nome),l(3),v("ngModel",o.newBarber.cognome),l(3),v("ngModel",o.newBarber.esperienza),l(3),v("ngModel",o.newBarber.specialita)}}function qe(i,t){if(i&1&&(r(0,"span",86),s(1),a()),i&2){let e=t.$implicit;l(),k(e)}}function Ge(i,t){if(i&1){let e=x();r(0,"button",87),u("click",function(){let n=m(e).$implicit,c=d(2);return g(c.selectCalendarDay(n))}),s(1),a()}if(i&2){let e=t.$implicit;B("outside",!e.inMonth)("today",e.isToday)("selected",e.isSelected),l(),C(" ",e.date.getDate()," ")}}function Ue(i,t){if(i&1&&(r(0,"span",101),s(1),a()),i&2){let e=d().$implicit;l(),C(" \u23F1\uFE0F ",e.service==null?null:e.service.durata," min ")}}function Je(i,t){if(i&1&&(r(0,"article",90)(1,"header",91)(2,"div",92)(3,"span",93),s(4),a(),_(5,Ue,2,1,"span",94),a(),r(6,"span",95),s(7),a()(),r(8,"div",96)(9,"h4",97),s(10),a(),r(11,"ul",98)(12,"li",99)(13,"span",100),s(14,"\u{1F64D}"),a(),r(15,"span"),s(16),a()(),r(17,"li",99)(18,"span",100),s(19,"\u{1F488}"),a(),r(20,"span"),s(21),a()()()()()),i&2){let e=t.$implicit,o=d(3);l(4),k(o.formatTime(e.orarioInizio)),l(),p("ngIf",e.service==null?null:e.service.durata),l(),p("ngClass",o.getAppointmentStatusClass(e.stato)),l(),C(" ",e.stato," "),l(3),k(e.service==null?null:e.service.nome),l(6),W("",e.customer==null?null:e.customer.nome," ",e.customer==null?null:e.customer.cognome),l(5),W("",e.barber==null?null:e.barber.nome," ",e.barber==null?null:e.barber.cognome)}}function Ke(i,t){if(i&1&&(r(0,"div",88),_(1,Je,22,9,"article",89),a()),i&2){let e=d(2);l(),p("ngForOf",e.appointments)}}function Qe(i,t){i&1&&(r(0,"p",45),s(1,"Non sono presenti appuntamenti per la data selezionata."),a())}function Xe(i,t){if(i&1){let e=x();r(0,"section",21)(1,"div",22)(2,"div")(3,"h2"),s(4,"Agenda appuntamenti"),a(),r(5,"p"),s(6,"Consulta gli appuntamenti confermati per ogni giornata."),a()()(),r(7,"div",69)(8,"div",70)(9,"label",71),s(10,"Seleziona una data"),a(),r(11,"div",72)(12,"input",73),h("ngModelChange",function(n){m(e);let c=d();return f(c.selectedDate,n)||(c.selectedDate=n),g(n)}),u("change",function(){m(e);let n=d();return g(n.onAgendaDateChange())}),a(),r(13,"button",74),u("click",function(){m(e);let n=d();return g(n.setToday())}),s(14,"Oggi"),a()(),r(15,"p",75),s(16,"Scegli un giorno per vedere gli appuntamenti confermati in agenda."),a(),r(17,"div",76)(18,"div",77)(19,"button",78),u("click",function(){m(e);let n=d();return g(n.goToPrevMonth())}),s(20,"\u25C0"),a(),r(21,"div",79),s(22),a(),r(23,"button",80),u("click",function(){m(e);let n=d();return g(n.goToNextMonth())}),s(24,"\u25B6"),a()(),r(25,"div",81),_(26,qe,2,1,"span",82),a(),r(27,"div",83),_(28,Ge,2,7,"button",84),a()()(),_(29,Ke,2,1,"div",85)(30,Qe,2,0,"ng-template",null,12,S),a()()}if(i&2){let e=y(31),o=d();l(12),v("ngModel",o.selectedDate),l(10),k(o.calendarMonthLabel),l(4),p("ngForOf",o.calendarWeekdays),l(2),p("ngForOf",o.calendarDays),l(),p("ngIf",o.appointments.length>0)("ngIfElse",e)}}function Ze(i,t){if(i&1){let e=x();r(0,"div",107)(1,"div",108)(2,"div")(3,"h3"),s(4),a(),r(5,"span",109),s(6),a()(),r(7,"button",110),u("click",function(){let n=m(e).$implicit,c=d(2);return g(c.toggleDayOpen(n))}),s(8),a()(),r(9,"div",111)(10,"label"),s(11," Orario di apertura "),r(12,"input",112),u("change",function(n){let c=m(e).$implicit;return g(c.apertura=n.target.value)}),a()(),r(13,"label"),s(14," Orario di chiusura "),r(15,"input",112),u("change",function(n){let c=m(e).$implicit;return g(c.chiusura=n.target.value)}),a()()()()}if(i&2){let e=t.$implicit,o=d(2);B("closed",!e.aperto),l(4),k(o.getDayName(e.giorno)),l(),B("open",e.aperto)("closed",!e.aperto),l(),C(" ",e.aperto?"Aperto":"Chiuso"," "),l(2),C(" ",e.aperto?"Imposta come chiuso":"Imposta come aperto"," "),l(4),p("value",e.apertura||"")("disabled",!e.aperto),l(3),p("value",e.chiusura||"")("disabled",!e.aperto)}}function $e(i,t){if(i&1&&(r(0,"p",113),s(1),a()),i&2){let e=d(2);l(),k(e.businessHoursMessage)}}function et(i,t){if(i&1){let e=x();r(0,"section",21)(1,"div",22)(2,"div")(3,"h2"),s(4,"Orari di apertura"),a(),r(5,"p"),s(6,"Definisci giorni di chiusura e fasce orarie di lavoro."),a()(),r(7,"button",102),u("click",function(){m(e);let n=d();return g(n.saveBusinessHours())}),s(8),a()(),r(9,"div",103)(10,"div",104),_(11,Ze,16,13,"div",105),a(),_(12,$e,2,1,"p",106),a()()}if(i&2){let e=d();l(7),p("disabled",e.isSavingBusinessHours),l(),C(" ",e.isSavingBusinessHours?"Salvataggio...":"Salva impostazioni"," "),l(3),p("ngForOf",e.businessHours),l(),p("ngIf",e.businessHoursMessage)}}var ce=class i{apiService=F(se);authService=F(oe);router=F(K);services=[];barbers=[];appointments=[];businessHours=[];selectedSection="agenda";selectedDate="";calendarDays=[];calendarWeekdays=["Lu","Ma","Me","Gi","Ve","Sa","Do"];calendarMonthLabel="";calendarReference=new Date;newService={nome:"",durata:0,prezzo:0,descrizione:""};editingService=null;newBarber={nome:"",cognome:"",esperienza:"",specialita:""};editingBarber=null;editingBarberServiceIds=null;servicesDropdownOpen=!1;isSavingBusinessHours=!1;businessHoursMessage="";dayNames=["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"];ngOnInit(){if(!this.authService.isAdminAuthenticated()){this.router.navigate(["/login"]);return}this.loadServices(),this.loadBarbers(),this.loadBusinessHours(),this.initializeAgenda()}setSection(t){this.selectedSection=t}initializeAgenda(){let t=new Date;this.selectedDate=this.formatDateForInput(t),this.loadAppointmentsForDate(),this.updateCalendar(t)}loadServices(){this.apiService.getAllServices().subscribe({next:t=>{this.services=t},error:t=>console.error("Errore durante il caricamento dei servizi:",t)})}startEditService(t){this.editingService=z({},t)}cancelEditService(){this.editingService=null}saveService(){this.editingService&&this.apiService.updateService(this.editingService.id,this.editingService).subscribe({next:()=>{this.loadServices(),this.editingService=null},error:t=>console.error("Errore durante l'aggiornamento del servizio:",t)})}createService(){if(!this.newService.nome||!this.newService.descrizione)return;let t=V(z({},this.newService),{durata:Number(this.newService.durata)||0,prezzo:Number(this.newService.prezzo)||0});this.apiService.createService(t).subscribe({next:()=>{this.loadServices(),this.newService={nome:"",durata:0,prezzo:0,descrizione:""}},error:e=>console.error("Errore durante la creazione del servizio:",e)})}deleteService(t){t&&this.apiService.deleteService(t).subscribe({next:()=>this.loadServices(),error:e=>console.error("Errore durante l'eliminazione del servizio:",e)})}loadBarbers(){this.apiService.getAllBarbers().subscribe({next:t=>{this.barbers=t},error:t=>console.error("Errore durante il caricamento dei barbieri:",t)})}startEditBarber(t){this.editingBarber=z({},t),this.editingBarberServiceIds=new Set,this.servicesDropdownOpen=!0,t.id&&this.apiService.getServicesForBarber(t.id).subscribe({next:e=>{this.editingBarberServiceIds=new Set(e.map(o=>o.id))},error:e=>console.error("Errore nel caricamento dei servizi del barbiere:",e)})}cancelEditBarber(){this.editingBarber=null,this.editingBarberServiceIds=null,this.servicesDropdownOpen=!1}saveBarber(){this.editingBarber&&this.apiService.updateBarber(this.editingBarber.id,this.editingBarber).subscribe({next:()=>{if(this.editingBarberServiceIds&&this.editingBarber?.id){let t=Array.from(this.editingBarberServiceIds);this.apiService.updateBarberServices(this.editingBarber.id,t).subscribe({next:()=>{this.loadBarbers(),this.editingBarber=null,this.editingBarberServiceIds=null,this.servicesDropdownOpen=!1},error:e=>console.error("Errore durante l'aggiornamento dei servizi del barbiere:",e)})}else this.loadBarbers(),this.editingBarber=null,this.editingBarberServiceIds=null,this.servicesDropdownOpen=!1},error:t=>console.error("Errore durante l'aggiornamento del barbiere:",t)})}createBarber(){!this.newBarber.nome||!this.newBarber.cognome||this.apiService.createBarber(this.newBarber).subscribe({next:()=>{this.loadBarbers(),this.newBarber={nome:"",cognome:"",esperienza:"",specialita:""}},error:t=>console.error("Errore durante la creazione del barbiere:",t)})}deleteBarber(t){t&&this.apiService.deleteBarber(t).subscribe({next:()=>this.loadBarbers(),error:e=>console.error("Errore durante l'eliminazione del barbiere:",e)})}toggleServiceForEditingBarber(t,e){this.editingBarberServiceIds||(this.editingBarberServiceIds=new Set),e?this.editingBarberServiceIds.add(t):this.editingBarberServiceIds.delete(t)}toggleServicesDropdown(){this.servicesDropdownOpen=!this.servicesDropdownOpen}loadAppointmentsForDate(){this.selectedDate&&this.apiService.getAppointmentsByDate(this.selectedDate).subscribe({next:t=>{this.appointments=[...t].sort((e,o)=>{let n=this.formatTimeValue(e.orarioInizio),c=this.formatTimeValue(o.orarioInizio);return n.localeCompare(c)})},error:t=>{this.handleUnauthorized(t)||console.error("Errore durante il caricamento degli appuntamenti:",t)}})}onAgendaDateChange(){this.loadAppointmentsForDate(),this.updateCalendar()}setToday(){let t=new Date;this.selectedDate=this.formatDateForInput(t),this.onAgendaDateChange(),this.updateCalendar(t)}selectCalendarDay(t){this.selectedDate=this.formatDateForInput(t.date),this.onAgendaDateChange(),this.updateCalendar(t.date)}goToPrevMonth(){let t=this.getCalendarReferenceDate(),e=new Date(t.getFullYear(),t.getMonth()-1,1);this.updateCalendar(e)}goToNextMonth(){let t=this.getCalendarReferenceDate(),e=new Date(t.getFullYear(),t.getMonth()+1,1);this.updateCalendar(e)}getCalendarReferenceDate(){return new Date(this.calendarReference.getFullYear(),this.calendarReference.getMonth(),1)}updateCalendar(t){let e=t??this.parseInputDate(this.selectedDate)??new Date,o=new Date(e.getFullYear(),e.getMonth(),1),n=this.parseInputDate(this.selectedDate),c=new Date,P=(o.getDay()+6)%7,T=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),b=new Date(e.getFullYear(),e.getMonth(),0).getDate(),I=[];for(let w=P-1;w>=0;w-=1){let M=new Date(e.getFullYear(),e.getMonth()-1,b-w);I.push({date:M,inMonth:!1,isToday:this.isSameDay(M,c),isSelected:n?this.isSameDay(M,n):!1})}for(let w=1;w<=T;w+=1){let M=new Date(e.getFullYear(),e.getMonth(),w);I.push({date:M,inMonth:!0,isToday:this.isSameDay(M,c),isSelected:n?this.isSameDay(M,n):!1})}let le=I.length%7===0?0:7-I.length%7;for(let w=1;w<=le;w+=1){let M=new Date(e.getFullYear(),e.getMonth()+1,w);I.push({date:M,inMonth:!1,isToday:this.isSameDay(M,c),isSelected:n?this.isSameDay(M,n):!1})}this.calendarReference=o,this.calendarMonthLabel=o.toLocaleString("it-IT",{month:"long",year:"numeric"}),this.calendarDays=I}isSameDay(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}formatDateForInput(t){let e=t.getFullYear(),o=`${t.getMonth()+1}`.padStart(2,"0"),n=`${t.getDate()}`.padStart(2,"0");return`${e}-${o}-${n}`}parseInputDate(t){if(!t)return null;let[e,o,n]=t.split("-").map(P=>Number(P));if(!e||!o||!n)return null;let c=new Date(e,o-1,n);return Number.isNaN(c.getTime())?null:c}formatTimeValue(t){return t?t.substring(0,5):""}formatTime(t){return this.formatTimeValue(t)}getAppointmentStatusClass(t){let e=(t||"").toLowerCase();return e.includes("confer")?"status-confirmed":e.includes("complet")?"status-completed":e.includes("annull")||e.includes("cancel")?"status-cancelled":e.includes("pend")||e.includes("attesa")?"status-pending":"status-default"}loadBusinessHours(){this.apiService.getBusinessHours().subscribe({next:t=>{this.businessHours=t.sort((e,o)=>e.giorno-o.giorno).map(e=>V(z({},e),{apertura:e.apertura?e.apertura.substring(0,5):null,chiusura:e.chiusura?e.chiusura.substring(0,5):null}))},error:t=>{this.handleUnauthorized(t)||console.error("Errore durante il caricamento degli orari:",t)}})}toggleDayOpen(t){t.aperto=!t.aperto,t.aperto?(t.apertura=t.apertura??"09:00",t.chiusura=t.chiusura??"19:00"):(t.apertura=null,t.chiusura=null)}saveBusinessHours(){this.isSavingBusinessHours=!0,this.businessHoursMessage="";let t=this.businessHours.map(e=>V(z({},e),{apertura:e.aperto?this.formatTimeForApi(e.apertura):null,chiusura:e.aperto?this.formatTimeForApi(e.chiusura):null}));this.apiService.updateBusinessHours(t).subscribe({next:e=>{this.businessHours=e.sort((o,n)=>o.giorno-n.giorno).map(o=>V(z({},o),{apertura:o.apertura?o.apertura.substring(0,5):null,chiusura:o.chiusura?o.chiusura.substring(0,5):null})),this.businessHoursMessage="Orari di apertura aggiornati con successo.",this.isSavingBusinessHours=!1},error:e=>{if(this.handleUnauthorized(e)){this.businessHoursMessage="Sessione scaduta. Effettua di nuovo l'accesso per modificare gli orari.",this.isSavingBusinessHours=!1;return}console.error("Errore durante il salvataggio degli orari:",e),this.businessHoursMessage="Impossibile aggiornare gli orari. Riprova pi\xF9 tardi.",this.isSavingBusinessHours=!1}})}getDayName(t){return this.dayNames[t]||""}formatTimeForApi(t){return t?t.length===5?`${t}:00`:t:null}handleUnauthorized(t){return t instanceof J&&(t.status===401||t.status===403)?(this.authService.logout(),this.router.navigate(["/login"]),!0):!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=L({type:i,selectors:[["app-admin-dashboard"]],decls:33,vars:12,consts:[["emptyServices",""],["editServiceName",""],["editServiceDuration",""],["editServicePrice",""],["editServiceDescription",""],["viewServiceActions",""],["emptyBarbers",""],["editBarberName",""],["editBarberSurname",""],["editBarberExperience",""],["editBarberSpecialty",""],["viewBarberActions",""],["emptyAppointments",""],[1,"admin-dashboard"],[1,"sidebar"],[1,"brand"],[1,"menu"],["type","button",3,"click"],[1,"icon"],[1,"content"],["class","panel",4,"ngIf"],[1,"panel"],[1,"section-header"],[1,"panel-body","agenda-body"],[1,"table-card"],["class","data-table",4,"ngIf","ngIfElse"],[1,"form-card"],[3,"ngSubmit"],["type","text","name","service_nome","required","",3,"ngModelChange","ngModel"],["type","number","name","service_prezzo","min","0","step","0.5","required","",3,"ngModelChange","ngModel"],["type","number","name","service_durata","min","0","required","",3,"ngModelChange","ngModel"],["name","service_descrizione","rows","3",3,"ngModelChange","ngModel"],["type","submit",1,"btn","primary"],[1,"data-table"],[1,"actions"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"description-cell"],["type","button",1,"btn","danger",3,"click"],["type","text",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0","step","0.5",3,"ngModelChange","ngModel","ngModelOptions"],["rows","2",3,"ngModelChange","ngModel","ngModelOptions"],["type","button",1,"btn","primary",3,"click"],["type","button",1,"btn","ghost",3,"click"],[1,"empty-state"],[1,"panel-body","barbers-body"],["class","services-editor",4,"ngIf"],["type","text","name","barber_nome","required","",3,"ngModelChange","ngModel"],["type","text","name","barber_cognome","required","",3,"ngModelChange","ngModel"],["type","text","name","barber_esperienza",3,"ngModelChange","ngModel"],["type","text","name","barber_specialita",3,"ngModelChange","ngModel"],[1,"services-editor"],[1,"services-editor-header"],[1,"hint"],["class","services-dropdown",4,"ngIf"],["class","services-selected",4,"ngIf"],[1,"services-dropdown"],["class","loading",4,"ngIf"],["class","services-checkboxes",4,"ngIf"],[1,"loading"],[1,"services-checkboxes"],["class","service-check",4,"ngFor","ngForOf"],[1,"service-check"],["type","checkbox",3,"change","checked"],[1,"service-name"],[1,"services-selected"],["class","pill",3,"hidden",4,"ngFor","ngForOf"],[1,"pill",3,"hidden"],[1,"panel-body"],[1,"agenda-controls"],["for","agenda-date"],[1,"date-picker"],["id","agenda-date","type","date","name","agenda_date",3,"ngModelChange","change","ngModel"],["type","button",1,"btn","ghost","today-btn",3,"click"],[1,"date-hint"],["aria-label","Calendario appuntamenti",1,"mini-calendar"],[1,"calendar-header"],["type","button","aria-label","Mese precedente",1,"nav",3,"click"],[1,"month-label"],["type","button","aria-label","Mese successivo",1,"nav",3,"click"],[1,"calendar-weekdays"],["class","weekday",4,"ngFor","ngForOf"],[1,"calendar-grid"],["type","button","class","day",3,"outside","today","selected","click",4,"ngFor","ngForOf"],["class","appointments-grid",4,"ngIf","ngIfElse"],[1,"weekday"],["type","button",1,"day",3,"click"],[1,"appointments-grid"],["class","appointment-card",4,"ngFor","ngForOf"],[1,"appointment-card"],[1,"appointment-header"],[1,"appointment-time-wrapper"],[1,"appointment-time"],["class","appointment-duration",4,"ngIf"],[1,"appointment-status",3,"ngClass"],[1,"appointment-body"],[1,"appointment-service"],[1,"appointment-meta"],[1,"meta-item"],[1,"meta-icon"],[1,"appointment-duration"],["type","button",1,"btn","primary",3,"click","disabled"],[1,"panel-body","hours-body"],[1,"business-hours-grid"],["class","business-day-card",3,"closed",4,"ngFor","ngForOf"],["class","update-message",4,"ngIf"],[1,"business-day-card"],[1,"day-card-header"],[1,"status-pill"],["type","button",1,"btn","toggle",3,"click"],[1,"day-card-body"],["type","time",3,"change","value","disabled"],[1,"update-message"]],template:function(e,o){e&1&&(r(0,"div",13)(1,"aside",14)(2,"div",15)(3,"h1"),s(4,"Dashboard"),a(),r(5,"p"),s(6,"Gestisci il tuo barber shop"),a()(),r(7,"nav",16)(8,"button",17),u("click",function(){return o.setSection("services")}),r(9,"span",18),s(10,"\u{1F488}"),a(),r(11,"span"),s(12,"Servizi"),a()(),r(13,"button",17),u("click",function(){return o.setSection("barbers")}),r(14,"span",18),s(15,"\u{1F9D4}"),a(),r(16,"span"),s(17,"Barbieri"),a()(),r(18,"button",17),u("click",function(){return o.setSection("agenda")}),r(19,"span",18),s(20,"\u{1F4C5}"),a(),r(21,"span"),s(22,"Agenda"),a()(),r(23,"button",17),u("click",function(){return o.setSection("settings")}),r(24,"span",18),s(25,"\u23F0"),a(),r(26,"span"),s(27,"Orari"),a()()()(),r(28,"main",19),_(29,Se,32,6,"section",20)(30,je,33,7,"section",20)(31,Xe,32,6,"section",20)(32,et,13,4,"section",20),a()()),e&2&&(l(8),B("active",o.selectedSection==="services"),l(5),B("active",o.selectedSection==="barbers"),l(5),B("active",o.selectedSection==="agenda"),l(5),B("active",o.selectedSection==="settings"),l(6),p("ngIf",o.selectedSection==="services"),l(),p("ngIf",o.selectedSection==="barbers"),l(),p("ngIf",o.selectedSection==="agenda"),l(),p("ngIf",o.selectedSection==="settings"))},dependencies:[U,Y,j,q,ae,te,Q,ne,X,Z,re,ie,ee,$,G],styles:['.admin-dashboard[_ngcontent-%COMP%]{display:grid;grid-template-columns:260px 1fr;min-height:100vh;background:linear-gradient(135deg,#ff8c0014,#ffffffe6)}.sidebar[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:var(--shadow-md);padding:var(--spacing-lg) var(--spacing-md);display:flex;flex-direction:column;gap:var(--spacing-lg)}.brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-size-h2);color:var(--color-primary)}.brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-weight:500}.menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm);background:transparent;border:none;border-radius:var(--radius-md);font-size:var(--font-size-body);font-weight:600;color:var(--color-text-secondary);cursor:pointer;transition:all var(--transition-normal)}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.4rem}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .menu[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#ff8c001f;color:var(--color-primary);box-shadow:inset 0 0 0 2px #ff8c0033}.content[_ngcontent-%COMP%]{padding:var(--spacing-xl);overflow-y:auto}.panel[_ngcontent-%COMP%]{background:var(--color-white);border-radius:var(--radius-xl);box-shadow:var(--shadow-lg);padding:var(--spacing-lg);display:flex;flex-direction:column;gap:var(--spacing-lg)}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-lg)}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-weight:500}.panel-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:var(--spacing-lg)}.panel-body.agenda-body[_ngcontent-%COMP%], .panel-body.hours-body[_ngcontent-%COMP%]{grid-template-columns:1fr}.table-card[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]{background:var(--color-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);padding:var(--spacing-lg);display:flex;flex-direction:column;gap:var(--spacing-md)}.table-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--color-primary)}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.95rem}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--spacing-sm);border-bottom:1px solid var(--color-border);text-align:left;vertical-align:top}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ff8c0014;color:var(--color-text-primary);font-weight:700}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ff8c000d}.data-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-xs);border:1px solid var(--color-border);border-radius:var(--radius-md);font-family:var(--font-body);font-size:var(--font-size-body)}.data-table[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.form-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);font-weight:600;color:var(--color-text-secondary)}.btn.primary[_ngcontent-%COMP%]{background:var(--color-primary);color:var(--color-white);border:none;box-shadow:var(--shadow-sm)}.btn.primary[_ngcontent-%COMP%]:hover{background:var(--color-primary-hover)}.btn.ghost[_ngcontent-%COMP%]{background:transparent;color:var(--color-primary);border:1px solid rgba(255,140,0,.4)}.btn.ghost[_ngcontent-%COMP%]:hover{background:#ff8c001a}.btn.danger[_ngcontent-%COMP%]{background:#ff5a5f;color:var(--color-white);border:none}.btn.danger[_ngcontent-%COMP%]:hover{background:#ff3b44}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xs);flex-wrap:wrap}.description-cell[_ngcontent-%COMP%]{min-width:200px}.empty-state[_ngcontent-%COMP%]{color:var(--color-text-secondary);background:#00000008;padding:var(--spacing-md);border-radius:var(--radius-md);text-align:center}.agenda-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm);max-width:380px}.agenda-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text-primary)}.date-picker[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);background:var(--color-white);border:1px solid var(--color-border);border-radius:var(--radius-full, 999px);padding:6px 10px 6px 12px;box-shadow:var(--shadow-sm);transition:box-shadow var(--transition-fast),transform var(--transition-fast)}.date-picker[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md);transform:translateY(-1px)}.date-picker[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{flex:1;border:none;background:transparent;font-family:var(--font-body);font-weight:600;font-size:.95rem;padding:6px 4px}.date-picker[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus{outline:none}.date-picker[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{opacity:0;display:none}.date-picker[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-moz-calendar-picker-indicator{opacity:0}.today-btn[_ngcontent-%COMP%]{white-space:nowrap;border-radius:var(--radius-full, 999px);padding:6px 12px}.date-hint[_ngcontent-%COMP%]{margin:0;color:var(--color-text-secondary);font-size:.9rem}.mini-calendar[_ngcontent-%COMP%]{background:var(--color-white);border:1px solid var(--color-border);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);padding:var(--spacing-sm);display:grid;gap:var(--spacing-xs);width:100%}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;color:var(--color-text-primary)}.calendar-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{border:none;background:transparent;font-size:1rem;cursor:pointer;padding:4px 8px;border-radius:var(--radius-sm);transition:background var(--transition-fast)}.calendar-header[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]:hover{background:#0000000d}.month-label[_ngcontent-%COMP%]{text-transform:capitalize}.calendar-weekdays[_ngcontent-%COMP%], .calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;text-align:center}.weekday[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text-secondary);font-size:.85rem}.day[_ngcontent-%COMP%]{border:none;background:transparent;padding:6px 0;border-radius:var(--radius-sm);font-weight:600;color:var(--color-text-primary);cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast),transform var(--transition-fast)}.day[_ngcontent-%COMP%]:hover{background:#ff8c001f;transform:translateY(-1px)}.day.outside[_ngcontent-%COMP%]{color:var(--color-text-secondary);opacity:.6}.day.today[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 2px #ff8c0066;border-radius:var(--radius-md)}.day.selected[_ngcontent-%COMP%]{background:var(--color-primary);color:var(--color-white);border-radius:var(--radius-md);box-shadow:var(--shadow-sm)}.business-hours-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:var(--spacing-lg)}.business-day-card[_ngcontent-%COMP%]{background:var(--color-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);padding:var(--spacing-lg);display:flex;flex-direction:column;gap:var(--spacing-md);transition:transform var(--transition-normal),box-shadow var(--transition-normal)}.business-day-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}.business-day-card.closed[_ngcontent-%COMP%]{background:#0000000a;box-shadow:none}.day-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-md)}.day-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:var(--color-text-primary)}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--spacing-xxs);padding:4px 10px;border-radius:999px;font-size:.8rem;font-weight:700;text-transform:uppercase}.status-pill.open[_ngcontent-%COMP%]{background:#4caf5026;color:#2e7d32}.status-pill.closed[_ngcontent-%COMP%]{background:#dc354526;color:#c62828}.btn.toggle[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,140,0,.4);color:var(--color-primary);font-weight:600}.btn.toggle[_ngcontent-%COMP%]:hover{background:#ff8c001a}.business-day-card.closed[_ngcontent-%COMP%]   .btn.toggle[_ngcontent-%COMP%]{color:#c62828;border-color:#c628284d}.business-day-card.closed[_ngcontent-%COMP%]   .btn.toggle[_ngcontent-%COMP%]:hover{background:#c628281f}.day-card-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-md)}.day-card-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xxs);font-weight:600;color:var(--color-text-secondary)}.day-card-body[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]{padding:var(--spacing-xs);border:1px solid var(--color-border);border-radius:var(--radius-md);font-family:var(--font-body)}.day-card-body[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]:disabled{background:#0000000d;cursor:not-allowed}.update-message[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;font-weight:600;color:var(--color-text-secondary)}.appointments-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:var(--spacing-md)}.appointment-card[_ngcontent-%COMP%]{background:var(--color-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);padding:var(--spacing-lg);display:flex;flex-direction:column;gap:var(--spacing-md);min-height:180px}.appointment-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-sm);flex-wrap:wrap}.appointment-time-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xxs)}.appointment-time[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--color-primary);line-height:1}.appointment-duration[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:var(--color-text-secondary)}.appointment-status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;padding:.4rem .9rem;border-radius:999px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;background:#0000000d;color:var(--color-text-secondary)}.appointment-status[_ngcontent-%COMP%]:before{content:"\\2022";font-size:1rem}.appointment-status.status-confirmed[_ngcontent-%COMP%]{background:#4caf5026;color:#2e7d32}.appointment-status.status-completed[_ngcontent-%COMP%]{background:#2196f32e;color:#1565c0}.appointment-status.status-pending[_ngcontent-%COMP%]{background:#ffc10733;color:#ff8f00}.appointment-status.status-cancelled[_ngcontent-%COMP%]{background:#e539352e;color:#c62828}.appointment-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.appointment-service[_ngcontent-%COMP%]{margin:0;font-size:1.15rem;color:var(--color-text-primary)}.appointment-meta[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:var(--spacing-xs)}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);color:var(--color-text-secondary);font-weight:600;font-size:.95rem}.meta-icon[_ngcontent-%COMP%]{font-size:1.2rem}.toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);font-weight:600}.services-editor[_ngcontent-%COMP%]{background:#ff8c000a;border:1px solid rgba(255,140,0,.18);border-radius:var(--radius-lg);padding:var(--spacing-md);display:flex;flex-direction:column;gap:var(--spacing-sm);box-shadow:var(--shadow-sm);width:min(640px,100%);grid-column:1 / -1}.services-editor-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-md);flex-wrap:wrap}.services-editor[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{margin:0;color:var(--color-text-secondary);font-size:.9rem}.services-dropdown[_ngcontent-%COMP%]{background:var(--color-white);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--spacing-md);box-shadow:var(--shadow-md);max-height:260px;overflow-y:auto;z-index:2;width:100%}.services-checkboxes[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:var(--spacing-sm)}.service-check[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--spacing-xs);font-weight:600;color:var(--color-text-primary)}.service-name[_ngcontent-%COMP%]{line-height:1.4;font-weight:500;color:var(--color-text-secondary)}.services-selected[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--spacing-xs);margin-top:var(--spacing-xs)}.pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;background:#ff8c0026;color:var(--color-primary);font-weight:700;font-size:.85rem}.barbers-body[_ngcontent-%COMP%]{grid-template-columns:1fr}@media (max-width: 768px){.services-dropdown[_ngcontent-%COMP%]{max-height:200px}}@media (min-width: 1100px){.barbers-body[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(540px,1fr))}}.update-message[_ngcontent-%COMP%]{margin-top:var(--spacing-md);font-weight:600;color:var(--color-text-secondary)}@media (max-width: 1024px){.admin-dashboard[_ngcontent-%COMP%]{grid-template-columns:1fr}.sidebar[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;gap:var(--spacing-md)}.menu[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.content[_ngcontent-%COMP%]{padding:var(--spacing-lg)}}@media (max-width: 768px){.panel-body[_ngcontent-%COMP%]{grid-template-columns:1fr}.appointment-card[_ngcontent-%COMP%]{padding:var(--spacing-md)}.appointment-status[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 576px){.appointment-time[_ngcontent-%COMP%]{font-size:1.6rem}.appointment-service[_ngcontent-%COMP%]{font-size:1.05rem}}']})};export{ce as AdminDashboardComponent};
