import{j as A}from"./chunk-NK4S2GEF.js";import{c as $}from"./chunk-BMBIHSAK.js";import{a as N}from"./chunk-LY47KOC7.js";import{$ as v,$a as d,Ia as B,Ma as m,Mb as F,Nb as H,Pb as L,Rb as Y,Ta as l,U as y,Ua as r,Va as n,Wa as f,Xa as D,Ya as z,Za as h,_ as g,_a as b,a as k,ac as j,b as P,eb as u,fb as o,gb as _,hb as x,ib as O,pb as T,rb as V,ta as a}from"./chunk-TMWIUII4.js";function J(i,t){if(i&1){let e=h();r(0,"div",16),b("click",function(){let c=g(e).$implicit,p=d(2);return v(p.selectService(c))})("keyup.enter",function(){let c=g(e).$implicit,p=d(2);return v(p.selectService(c))}),r(1,"div",17),o(2,"\u2702\uFE0F"),n(),r(3,"h3"),o(4),n(),r(5,"p",18),o(6),n(),r(7,"div",19)(8,"span",20),o(9),n(),r(10,"span",21),o(11),n()()()}if(i&2){let e=t.$implicit,s=d(2);u("selected",(s.selectedService==null?null:s.selectedService.id)===e.id),a(4),_(e.nome),a(2),_(e.descrizione),a(3),x("\u23F1\uFE0F ",e.durata," min"),a(2),x("\u20AC",e.prezzo)}}function K(i,t){if(i&1&&(r(0,"div",13)(1,"h2"),o(2,"Scegli il Servizio"),n(),r(3,"div",14),m(4,J,12,6,"div",15),n()()),i&2){let e=d();a(4),l("ngForOf",e.services)}}function Q(i,t){i&1&&(r(0,"div",25),o(1," Nessun barbiere disponibile per questo servizio. "),n())}function X(i,t){if(i&1){let e=h();r(0,"div",26),b("click",function(){let c=g(e).$implicit,p=d(2);return v(p.selectBarber(c))})("keyup.enter",function(){let c=g(e).$implicit,p=d(2);return v(p.selectBarber(c))}),r(1,"div",27)(2,"span",28),o(3,"\u{1F468}\u200D\u{1F4BC}"),n()(),r(4,"div",29)(5,"h3"),o(6),n(),r(7,"p",30),o(8),n(),r(9,"p",31),o(10),n()(),r(11,"button",32),o(12,"Seleziona"),n()()}if(i&2){let e=t.$implicit,s=d(2);u("selected",(s.selectedBarber==null?null:s.selectedBarber.id)===e.id),a(6),O("",e.nome," ",e.cognome),a(2),x("\u{1F393} ",e.esperienza),a(2),x("\u2728 ",e.specialita)}}function Z(i,t){if(i&1&&(r(0,"div",13)(1,"h2"),o(2,"Scegli il Barbiere"),n(),m(3,Q,2,0,"div",22),r(4,"div",23),m(5,X,13,6,"div",24),n()()),i&2){let e=d();a(3),l("ngIf",e.barbers.length===0),a(2),l("ngForOf",e.barbers)}}function ee(i,t){i&1&&(r(0,"div",38),o(1," Caricamento orari disponibili... "),n())}function te(i,t){if(i&1&&(r(0,"div",39),o(1),n()),i&2){let e=d(2);a(),x(" ",e.businessHoursError," ")}}function ne(i,t){i&1&&(r(0,"div",38),o(1," Nessun orario disponibile. Contatta il salone per maggiori informazioni. "),n())}function ie(i,t){if(i&1&&(r(0,"div",52),o(1),n()),i&2){let e=t.$implicit;a(),_(e)}}function re(i,t){i&1&&f(0,"div",55)}function oe(i,t){i&1&&(r(0,"span",59),o(1,"Chiuso"),n())}function ae(i,t){if(i&1){let e=h();r(0,"button",56),b("click",function(){g(e);let c=d().$implicit,p=d(4);return v(p.selectCalendarDay(c))}),r(1,"span",57),o(2),n(),m(3,oe,2,0,"span",58),n()}if(i&2){let e=d().$implicit;u("disabled",e.isDisabled)("closed",e.isClosed)("today",e.isToday)("selected",e.isSelected),a(2),_(e.label),a(),l("ngIf",e.isClosed)}}function se(i,t){if(i&1&&(D(0),m(1,re,1,0,"div",53)(2,ae,4,10,"button",54),z()),i&2){let e=t.$implicit;a(),l("ngIf",e.isPlaceholder),a(),l("ngIf",!e.isPlaceholder)}}function ce(i,t){if(i&1&&(r(0,"div",49),m(1,ie,2,1,"div",50)(2,se,3,2,"ng-container",51),n()),i&2){let e=t.ngIf,s=d(3);a(),l("ngForOf",s.weekdayLabels),a(),l("ngForOf",e.days)}}function le(i,t){if(i&1){let e=h();r(0,"div",40)(1,"div",41)(2,"button",42),b("click",function(){g(e);let c=d(2);return v(c.previousMonth())}),o(3," \u2039 "),n(),r(4,"div",43)(5,"h3"),o(6),n(),r(7,"p"),o(8,"Seleziona il giorno desiderato"),n()(),r(9,"button",42),b("click",function(){g(e);let c=d(2);return v(c.nextMonth())}),o(10," \u203A "),n()(),m(11,ce,3,2,"div",44),r(12,"div",45)(13,"span"),f(14,"span",46),o(15,"Disponibile"),n(),r(16,"span"),f(17,"span",47),o(18,"Chiuso"),n(),r(19,"span"),f(20,"span",48),o(21,"Non selezionabile"),n()()()}if(i&2){let e=d(2);a(2),l("disabled",e.activeMonthIndex===0),a(4),_(e.calendarMonths[e.activeMonthIndex]==null?null:e.calendarMonths[e.activeMonthIndex].label),a(3),l("disabled",e.activeMonthIndex===e.calendarMonths.length-1),a(2),l("ngIf",e.calendarMonths[e.activeMonthIndex])}}function de(i,t){if(i&1&&(r(0,"div",13)(1,"h2"),o(2,"Scegli la Data"),n(),r(3,"p",33),o(4,"Scegli un giorno disponibile per continuare la prenotazione."),n(),r(5,"div",34),m(6,ee,2,0,"div",35)(7,te,2,1,"div",36)(8,ne,2,0,"div",35)(9,le,22,4,"div",37),n()()),i&2){let e=d();a(6),l("ngIf",e.isLoadingBusinessHours),a(),l("ngIf",!e.isLoadingBusinessHours&&e.businessHoursError),a(),l("ngIf",!e.isLoadingBusinessHours&&!e.businessHoursError&&e.calendarMonths.length===0),a(),l("ngIf",!e.isLoadingBusinessHours&&!e.businessHoursError&&e.calendarMonths.length>0)}}function pe(i,t){i&1&&(r(0,"div",63),o(1,"Caricamento disponibilit\xE0..."),n())}function me(i,t){i&1&&(r(0,"div",25),o(1," Nessuno slot disponibile per la data selezionata. "),n())}function ge(i,t){i&1&&(r(0,"span",70),o(1,"\u274C"),n())}function ve(i,t){i&1&&(r(0,"span",70),o(1,"\u2705"),n())}function ue(i,t){if(i&1){let e=h();r(0,"div",67),b("click",function(){let c=g(e).$implicit,p=d(3);return v(p.selectTimeSlot(c))})("keyup.enter",function(){let c=g(e).$implicit,p=d(3);return v(p.selectTimeSlot(c))}),r(1,"span",68),o(2),n(),m(3,ge,2,0,"span",69)(4,ve,2,0,"span",69),n()}if(i&2){let e=t.$implicit,s=d(3);u("available",e.available)("unavailable",!e.available)("selected",s.selectedTime===s.formatTime(e.orarioInizio)),a(2),_(s.formatTime(e.orarioInizio)),a(),l("ngIf",!e.available),a(),l("ngIf",e.available&&s.selectedTime===s.formatTime(e.orarioInizio))}}function _e(i,t){if(i&1&&(r(0,"div",64)(1,"div",65),m(2,ue,5,9,"div",66),n()()),i&2){let e=d(2);a(2),l("ngForOf",e.availableSlots)}}function be(i,t){if(i&1&&(r(0,"div",13)(1,"h2"),o(2,"Scegli l'Orario"),n(),r(3,"p",60),o(4,"Seleziona uno slot disponibile"),n(),m(5,pe,2,0,"div",61)(6,me,2,0,"div",22)(7,_e,3,1,"div",62),n()),i&2){let e=d();a(5),l("ngIf",e.isLoadingSlots),a(),l("ngIf",!e.isLoadingSlots&&e.availableSlots.length===0),a(),l("ngIf",e.availableSlots.length>0)}}function xe(i,t){if(i&1&&(r(0,"div",74)(1,"span",75),o(2,"Durata:"),n(),r(3,"span",76),o(4),n()()),i&2){let e=d(2);a(4),x("",e.selectedService.durata," minuti")}}function fe(i,t){if(i&1&&(r(0,"p",84),o(1),n()),i&2){let e=d(2);a(),_(e.bookingError)}}function he(i,t){if(i&1){let e=h();r(0,"div",71)(1,"div",72)(2,"h3"),o(3,"\u{1F4CB} Riepilogo Prenotazione"),n(),r(4,"div",73)(5,"div",74)(6,"span",75),o(7,"Servizio:"),n(),r(8,"span",76),o(9),n()(),r(10,"div",74)(11,"span",75),o(12,"Barbiere:"),n(),r(13,"span",76),o(14),n()(),r(15,"div",74)(16,"span",75),o(17,"Data:"),n(),r(18,"span",76),o(19),T(20,"date"),n()(),r(21,"div",74)(22,"span",75),o(23,"Orario:"),n(),r(24,"span",76),o(25),n()(),m(26,xe,5,1,"div",77),r(27,"div",78)(28,"span",75),o(29,"Totale:"),n(),r(30,"span",79),o(31),n()()(),r(32,"div",80)(33,"button",81),b("click",function(){g(e);let c=d();return v(c.handleBack())}),o(34," \u2190 Modifica orario "),n(),r(35,"button",82),b("click",function(){g(e);let c=d();return v(c.confirmBooking())}),o(36," \u2705 Conferma Prenotazione "),n()(),m(37,fe,2,1,"p",83),n()()}if(i&2){let e=d();a(9),_(e.selectedService.nome),a(5),O("",e.selectedBarber.nome," ",e.selectedBarber.cognome),a(5),_(V(20,8,e.selectedDate,"dd/MM/yyyy")),a(6),_(e.selectedTime),a(),l("ngIf",e.selectedService==null?null:e.selectedService.durata),a(5),x("\u20AC",e.selectedService.prezzo),a(6),l("ngIf",e.bookingError)}}function Ce(i,t){if(i&1){let e=h();r(0,"div",85)(1,"button",86),b("click",function(){g(e);let c=d();return v(c.nextStep())}),o(2,"Avanti \u2192"),n()()}}var G=class i{apiService=y(N);authService=y(j);router=y($);currentStep=1;services=[];barbers=[];availableSlots=[];businessHours=[];businessHoursMap=new Map;calendarMonths=[];activeMonthIndex=0;selectedService=null;selectedBarber=null;selectedDate="";selectedTime="";minDate="";isLoadingSlots=!1;bookingError="";isLoadingBusinessHours=!1;businessHoursError="";get isSummaryVisible(){return this.currentStep===4&&!!this.selectedService&&!!this.selectedBarber&&!!this.selectedDate&&!!this.selectedTime}weekdayLabels=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"];monthLabels=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];ngOnInit(){let t=new Date;this.minDate=t.toISOString().split("T")[0],this.loadBusinessHours();let e=this.router.getCurrentNavigation();e?.extras.state?.service?(this.selectedService=e.extras.state.service,this.currentStep=2,this.loadBarbers()):this.loadServices()}loadServices(){this.apiService.getAllServices().subscribe({next:t=>{this.services=t},error:t=>{console.error("Error loading services:",t)}})}loadBarbers(){this.selectedService&&this.apiService.getBarbersForService(this.selectedService.id).subscribe({next:t=>{this.barbers=t},error:t=>{console.error("Errore durante il caricamento dei barbieri:",t)}})}loadAvailableSlots(){this.selectedBarber&&this.selectedService&&this.selectedDate&&(this.isLoadingSlots=!0,this.availableSlots=[],this.apiService.getAvailableSlots(this.selectedBarber.id,this.selectedService.id,this.selectedDate).subscribe({next:t=>{this.availableSlots=t,this.isLoadingSlots=!1},error:t=>{console.error("Errore durante il caricamento delle disponibilit\xE0:",t),this.isLoadingSlots=!1}}))}selectService(t){this.selectedService=t,this.selectedBarber=null,this.selectedDate="",this.selectedTime="",this.availableSlots=[],this.bookingError="",this.currentStep=2,this.loadBarbers(),this.activeMonthIndex=0,this.refreshCalendar()}selectBarber(t){this.selectedBarber=t,this.selectedDate="",this.selectedTime="",this.availableSlots=[],this.bookingError="",this.currentStep=3,this.activeMonthIndex=0,this.refreshCalendar()}selectCalendarDay(t){!t.isoDate||t.isDisabled||(this.selectedDate!==t.isoDate&&(this.selectedDate=t.isoDate,this.selectedTime="",this.availableSlots=[],this.bookingError="",this.updateCalendarSelection(),this.loadAvailableSlots()),this.currentStep=4)}selectTimeSlot(t){t.available&&(this.selectedTime=this.formatTime(t.orarioInizio),this.bookingError="")}canProceed(){switch(this.currentStep){case 1:return!!this.selectedService;case 2:return!!this.selectedBarber;case 3:return!!this.selectedDate;case 4:return!!this.selectedTime;default:return!1}}nextStep(){this.currentStep<4&&this.currentStep++}previousStep(){this.currentStep>1&&this.currentStep--}handleBack(){if(this.isSummaryVisible){this.selectedTime="";return}if(this.currentStep>1){this.previousStep();return}this.router.navigate(["/customer-dashboard"])}confirmBooking(){let t=this.authService.getDecodedToken();if(t&&this.selectedBarber&&this.selectedService){let e={customerId:t.id,barberId:this.selectedBarber.id,serviceId:this.selectedService.id,data:this.selectedDate,orarioInizio:this.formatTimeForApi(this.selectedTime)};this.bookingError="",this.apiService.createAppointment(e).subscribe({next:()=>{alert("Prenotazione confermata!"),this.router.navigate(["/customer-dashboard"])},error:s=>{console.error("Errore durante la creazione della prenotazione:",s),this.bookingError=s?.error?.message||"Si \xE8 verificato un errore durante la conferma della prenotazione."}})}}formatTime(t){return t?t.substring(0,5):""}formatTimeForApi(t){return t.length===5?`${t}:00`:t}loadBusinessHours(){this.isLoadingBusinessHours=!0,this.businessHoursError="",this.apiService.getBusinessHours().subscribe({next:t=>{this.businessHours=t,this.businessHoursMap=new Map(t.map(e=>[e.giorno,e])),this.isLoadingBusinessHours=!1,this.activeMonthIndex=0,this.refreshCalendar()},error:t=>{console.error("Errore durante il caricamento degli orari di apertura:",t),this.businessHoursError="Impossibile caricare gli orari del salone. Riprova pi\xF9 tardi.",this.isLoadingBusinessHours=!1}})}refreshCalendar(){if(!this.businessHours.length||!this.minDate){this.calendarMonths=[];return}this.generateCalendarMonths(),this.updateCalendarSelection()}generateCalendarMonths(t=3){let e=this.parseIsoDate(this.minDate);if(!e){this.calendarMonths=[];return}let s=[];for(let c=0;c<t;c++){let p=new Date(e.getFullYear(),e.getMonth()+c,1),R=new Date(p.getFullYear(),p.getMonth()+1,0).getDate(),M=[],U=this.getMondayBasedWeekday(p);for(let C=0;C<U;C++)M.push({isPlaceholder:!0});for(let C=1;C<=R;C++){let w=new Date(p.getFullYear(),p.getMonth(),C),S=this.toIsoDate(w),W=w.getDay(),I=this.businessHoursMap.get(W),E=!I||!I.aperto,q=S<this.minDate;M.push({isoDate:S,label:C,isPlaceholder:!1,isToday:S===this.minDate,isSelected:S===this.selectedDate,isDisabled:q||E,isClosed:E})}s.push({label:`${this.monthLabels[p.getMonth()]} ${p.getFullYear()}`,month:p.getMonth(),year:p.getFullYear(),days:M})}this.calendarMonths=s,this.activeMonthIndex>=this.calendarMonths.length&&(this.activeMonthIndex=this.calendarMonths.length-1),this.activeMonthIndex<0&&(this.activeMonthIndex=0)}previousMonth(){this.activeMonthIndex>0&&this.activeMonthIndex--}nextMonth(){this.activeMonthIndex<this.calendarMonths.length-1&&this.activeMonthIndex++}updateCalendarSelection(){this.calendarMonths=this.calendarMonths.map(t=>P(k({},t),{days:t.days.map(e=>P(k({},e),{isSelected:!!e.isoDate&&e.isoDate===this.selectedDate}))}))}parseIsoDate(t){if(!t)return null;let e=t.split("-").map(Number);return e.length!==3?null:new Date(e[0],e[1]-1,e[2])}toIsoDate(t){let e=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),c=String(t.getDate()).padStart(2,"0");return`${e}-${s}-${c}`}getMondayBasedWeekday(t){return(t.getDay()+6)%7}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=B({type:i,selectors:[["app-service-booking"]],decls:39,vars:28,consts:[[1,"booking-container"],[1,"booking-top-bar"],["type","button",1,"btn","btn-secondary","back-button",3,"click"],[1,"booking-header"],[1,"subtitle"],[1,"progress-wizard"],[1,"step"],[1,"step-number"],[1,"step-label"],[1,"step-divider"],["class","booking-step",4,"ngIf"],["class","booking-summary",4,"ngIf"],["class","navigation-buttons",4,"ngIf"],[1,"booking-step"],[1,"services-grid"],["class","service-card","tabindex","0",3,"selected","click","keyup.enter",4,"ngFor","ngForOf"],["tabindex","0",1,"service-card",3,"click","keyup.enter"],[1,"service-icon"],[1,"service-description"],[1,"service-details"],[1,"duration"],[1,"price"],["class","no-slots",4,"ngIf"],[1,"barbers-grid"],["class","barber-card","tabindex","0",3,"selected","click","keyup.enter",4,"ngFor","ngForOf"],[1,"no-slots"],["tabindex","0",1,"barber-card",3,"click","keyup.enter"],[1,"barber-avatar"],[1,"avatar-icon"],[1,"barber-info"],[1,"barber-experience"],[1,"barber-specialty"],[1,"btn","btn-primary"],[1,"calendar-subtitle"],[1,"calendar-container"],["class","calendar-feedback",4,"ngIf"],["class","calendar-feedback error",4,"ngIf"],["class","calendar-card",4,"ngIf"],[1,"calendar-feedback"],[1,"calendar-feedback","error"],[1,"calendar-card"],[1,"calendar-header"],["type","button",1,"calendar-nav",3,"click","disabled"],[1,"calendar-month-info"],["class","calendar-grid",4,"ngIf"],[1,"calendar-legend"],[1,"legend-dot","available"],[1,"legend-dot","closed"],[1,"legend-dot","disabled"],[1,"calendar-grid"],["class","calendar-weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"calendar-weekday"],["class","calendar-day placeholder",4,"ngIf"],["type","button","class","calendar-day",3,"disabled","closed","today","selected","click",4,"ngIf"],[1,"calendar-day","placeholder"],["type","button",1,"calendar-day",3,"click"],[1,"day-number"],["class","day-badge",4,"ngIf"],[1,"day-badge"],[1,"orario-subtitle"],["class","loading",4,"ngIf"],["class","time-slots-container",4,"ngIf"],[1,"loading"],[1,"time-slots-container"],[1,"time-slots-grid"],["class","time-slot","tabindex","0",3,"available","unavailable","selected","click","keyup.enter",4,"ngFor","ngForOf"],["tabindex","0",1,"time-slot",3,"click","keyup.enter"],[1,"slot-time"],["class","slot-status",4,"ngIf"],[1,"slot-status"],[1,"booking-summary"],[1,"summary-card"],[1,"summary-details"],[1,"summary-row"],[1,"summary-label"],[1,"summary-value"],["class","summary-row",4,"ngIf"],[1,"summary-row","total"],[1,"summary-value","price"],[1,"summary-actions"],["type","button",1,"btn","btn-secondary","btn-inline",3,"click"],[1,"btn","btn-primary","btn-confirm",3,"click"],["class","booking-error",4,"ngIf"],[1,"booking-error"],[1,"navigation-buttons"],[1,"btn","btn-primary",3,"click"]],template:function(e,s){e&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),b("click",function(){return s.handleBack()}),o(3),n()(),r(4,"div",3)(5,"h1"),o(6,"\u{1F488} Prenota il Tuo Servizio"),n(),r(7,"p",4),o(8),n()(),r(9,"div",5)(10,"div",6)(11,"div",7),o(12,"1"),n(),r(13,"div",8),o(14,"Servizio"),n()(),f(15,"div",9),r(16,"div",6)(17,"div",7),o(18,"2"),n(),r(19,"div",8),o(20,"Barbiere"),n()(),f(21,"div",9),r(22,"div",6)(23,"div",7),o(24,"3"),n(),r(25,"div",8),o(26,"Data"),n()(),f(27,"div",9),r(28,"div",6)(29,"div",7),o(30,"4"),n(),r(31,"div",8),o(32,"Orario"),n()()(),m(33,K,5,1,"div",10)(34,Z,6,2,"div",10)(35,de,10,4,"div",10)(36,be,8,3,"div",10)(37,he,38,11,"div",11)(38,Ce,3,0,"div",12),n()),e&2&&(a(3),x(" \u2190 ",s.currentStep===1?"Dashboard":"Indietro"," "),a(5),_((s.selectedService==null?null:s.selectedService.nome)||"Seleziona servizio"),a(2),u("active",s.currentStep>=1)("completed",s.currentStep>1),a(5),u("active",s.currentStep>1),a(),u("active",s.currentStep>=2)("completed",s.currentStep>2),a(5),u("active",s.currentStep>2),a(),u("active",s.currentStep>=3)("completed",s.currentStep>3),a(5),u("active",s.currentStep>3),a(),u("active",s.currentStep>=4),a(5),l("ngIf",s.currentStep===1),a(),l("ngIf",s.currentStep===2),a(),l("ngIf",s.currentStep===3),a(),l("ngIf",s.currentStep===4&&!s.isSummaryVisible),a(),l("ngIf",s.isSummaryVisible),a(),l("ngIf",s.currentStep<4&&s.canProceed()))},dependencies:[Y,F,H,A,L],styles:['.booking-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,beige,#e8e8d0);padding:var(--spacing-lg) var(--spacing-md)}.booking-top-bar[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto var(--spacing-md);display:flex;justify-content:flex-start}.back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--spacing-xs);font-weight:700;padding:.75rem 1.5rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm)}.back-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.booking-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-xl);animation:_ngcontent-%COMP%_fadeInDown .6s ease}.booking-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--color-primary);margin-bottom:var(--spacing-xs);font-size:var(--font-size-h1);font-weight:700}.subtitle[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:var(--font-size-h4);font-weight:500}.progress-wizard[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:var(--spacing-xl);padding:0 var(--spacing-md);flex-wrap:wrap;gap:var(--spacing-sm)}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs)}.step-number[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:var(--color-white);border:3px solid var(--color-border);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.2rem;color:var(--color-text-secondary);transition:all var(--transition-normal)}.step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:var(--color-primary);border-color:var(--color-primary);color:var(--color-white);transform:scale(1.15);box-shadow:0 4px 12px #ff8c0066}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#4caf50;border-color:#4caf50;color:var(--color-white)}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]:before{content:"\\2713";font-size:1.5rem}.step-label[_ngcontent-%COMP%]{font-size:var(--font-size-small);color:var(--color-text-secondary);font-weight:600}.step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700}.step-divider[_ngcontent-%COMP%]{width:60px;height:3px;background:var(--color-border);transition:all var(--transition-normal)}.step-divider.active[_ngcontent-%COMP%]{background:var(--color-primary);box-shadow:0 2px 8px #ff8c004d}.booking-step[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .5s ease}.booking-step[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:var(--color-text-primary);margin-bottom:var(--spacing-sm);font-size:var(--font-size-h2)}.orario-subtitle[_ngcontent-%COMP%]{text-align:center;color:var(--color-text-secondary);margin-bottom:var(--spacing-md)}.loading[_ngcontent-%COMP%], .no-slots[_ngcontent-%COMP%]{text-align:center;color:var(--color-text-secondary);margin-bottom:var(--spacing-md);font-weight:600}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--spacing-md);margin-top:var(--spacing-lg)}.service-card[_ngcontent-%COMP%]{background:var(--color-white);padding:var(--spacing-lg);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);cursor:pointer;transition:all var(--transition-normal);text-align:center;border:2px solid transparent}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:var(--shadow-lg);border-color:var(--color-primary)}.service-card.selected[_ngcontent-%COMP%]{border-color:var(--color-primary);box-shadow:var(--shadow-lg);transform:translateY(-8px)}.service-icon[_ngcontent-%COMP%]{font-size:3.5rem;margin-bottom:var(--spacing-sm)}.service-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-text-primary);margin-bottom:var(--spacing-xs);font-size:var(--font-size-h3)}.service-description[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:var(--font-size-small);margin-bottom:var(--spacing-md);min-height:40px}.service-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:var(--spacing-sm);border-top:2px solid var(--color-border)}.duration[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:var(--font-size-small);font-weight:600}.price[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:700;font-size:1.5rem}.barbers-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--spacing-lg);margin-top:var(--spacing-lg)}.barber-card[_ngcontent-%COMP%]{background:var(--color-white);padding:var(--spacing-lg);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);text-align:center;transition:all var(--transition-normal);cursor:pointer;border:3px solid transparent}.barber-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:var(--shadow-lg);border-color:var(--color-primary)}.barber-card.selected[_ngcontent-%COMP%]{border-color:var(--color-primary);background:linear-gradient(135deg,#fff8f0,#fff)}.barber-avatar[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-primary-hover) 100%);display:flex;align-items:center;justify-content:center;margin:0 auto var(--spacing-md);box-shadow:0 4px 12px #ff8c004d}.avatar-icon[_ngcontent-%COMP%]{font-size:3.5rem}.barber-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-text-primary);margin-bottom:var(--spacing-xs);font-size:var(--font-size-h3)}.barber-experience[_ngcontent-%COMP%], .barber-specialty[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:var(--font-size-small);margin:var(--spacing-xs) 0}.barber-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:var(--spacing-md);width:100%}.calendar-container[_ngcontent-%COMP%]{max-width:720px;margin:var(--spacing-lg) auto}.calendar-subtitle[_ngcontent-%COMP%]{text-align:center;color:var(--color-text-secondary);margin-bottom:var(--spacing-md)}.calendar-feedback[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-lg);background:var(--color-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);margin-bottom:var(--spacing-md);font-weight:600;color:var(--color-text-secondary)}.calendar-feedback.error[_ngcontent-%COMP%]{color:#d9534f}.calendar-card[_ngcontent-%COMP%]{background:var(--color-white);padding:var(--spacing-xl);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);display:flex;flex-direction:column;gap:var(--spacing-md)}.calendar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-md)}.calendar-month-info[_ngcontent-%COMP%]{text-align:center}.calendar-month-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-h3);color:var(--color-text-primary)}.calendar-month-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:var(--spacing-xs) 0 0;color:var(--color-text-secondary);font-weight:500}.calendar-nav[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;border:none;background:#ff8c001f;color:var(--color-primary);font-size:1.6rem;cursor:pointer;transition:all var(--transition-normal)}.calendar-nav[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.calendar-nav[_ngcontent-%COMP%]:not(:disabled):hover{background:var(--color-primary);color:var(--color-white);transform:translateY(-2px)}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:var(--spacing-xs);align-items:stretch}.calendar-weekday[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:var(--color-text-secondary);padding-bottom:var(--spacing-xs)}.calendar-day[_ngcontent-%COMP%]{border:none;background:#f8f8f8;border-radius:var(--radius-md);padding:var(--spacing-sm) 0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;cursor:pointer;font-weight:600;color:var(--color-text-primary);transition:all var(--transition-normal);position:relative;min-height:70px}.calendar-day.placeholder[_ngcontent-%COMP%]{visibility:hidden}.calendar-day[_ngcontent-%COMP%]:hover:not(.disabled){background:var(--color-primary);color:var(--color-white);transform:translateY(-2px);box-shadow:0 6px 16px #ff8c0040}.calendar-day.today[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 2px #ff8c0080}.calendar-day.selected[_ngcontent-%COMP%]{background:var(--color-primary);color:var(--color-white);box-shadow:0 6px 18px #ff8c0066}.calendar-day.disabled[_ngcontent-%COMP%]{cursor:not-allowed;background:#eee;color:#9e9e9e;opacity:.7;box-shadow:none}.calendar-day.closed[_ngcontent-%COMP%]{background:#dc35451a;color:#c62828}.calendar-day.closed.selected[_ngcontent-%COMP%]{background:#c62828;color:var(--color-white)}.day-number[_ngcontent-%COMP%]{font-size:1.2rem}.day-badge[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;text-transform:uppercase}.calendar-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--spacing-md);font-size:.85rem;color:var(--color-text-secondary)}.legend-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;display:inline-block;margin-right:var(--spacing-xxs);border:2px solid transparent}.legend-dot.available[_ngcontent-%COMP%]{background:var(--color-primary)}.legend-dot.closed[_ngcontent-%COMP%]{background:#dc35451a;border-color:#c62828}.legend-dot.disabled[_ngcontent-%COMP%]{background:#eee;border-color:#bdbdbd}.time-slots-container[_ngcontent-%COMP%]{max-width:800px;margin:var(--spacing-lg) auto}.time-slots-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:var(--spacing-sm)}.time-slot[_ngcontent-%COMP%]{padding:var(--spacing-md);border-radius:var(--radius-md);text-align:center;font-weight:700;cursor:pointer;transition:all var(--transition-normal);display:flex;flex-direction:column;align-items:center;gap:4px;position:relative}.time-slot.available[_ngcontent-%COMP%]{background:var(--color-white);border:2px solid var(--color-primary);color:var(--color-primary)}.time-slot.available[_ngcontent-%COMP%]:hover{background:var(--color-primary);color:var(--color-white);transform:translateY(-4px);box-shadow:0 6px 16px #ff8c0066}.time-slot.selected[_ngcontent-%COMP%]{background:var(--color-primary)!important;color:var(--color-white)!important;border-color:var(--color-primary);box-shadow:0 4px 12px #ff8c0066}.time-slot.unavailable[_ngcontent-%COMP%]{background:#eee;border:2px solid #cccccc;color:#999;cursor:not-allowed;opacity:.6}.slot-time[_ngcontent-%COMP%]{font-size:1.1rem}.slot-status[_ngcontent-%COMP%]{font-size:.9rem}.booking-summary[_ngcontent-%COMP%]{max-width:700px;margin:var(--spacing-xl) auto;animation:_ngcontent-%COMP%_fadeInUp .6s ease}.summary-card[_ngcontent-%COMP%]{background:var(--color-white);padding:var(--spacing-xl);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg)}.booking-error[_ngcontent-%COMP%]{margin-top:var(--spacing-md);text-align:center;color:#d9534f;font-weight:600}.summary-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);margin-bottom:var(--spacing-lg);font-size:var(--font-size-h2)}.summary-details[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:var(--spacing-sm) 0;border-bottom:1px solid var(--color-border)}.summary-row.total[_ngcontent-%COMP%]{border-top:3px solid var(--color-primary);border-bottom:none;margin-top:var(--spacing-md);padding-top:var(--spacing-md)}.summary-label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text-secondary)}.summary-value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text-primary)}.summary-value.price[_ngcontent-%COMP%]{font-size:1.8rem;color:var(--color-primary);font-weight:700}.btn-confirm[_ngcontent-%COMP%]{font-size:var(--font-size-h4);padding:var(--spacing-md);font-weight:700}.summary-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--spacing-sm);margin-top:var(--spacing-lg)}.summary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1 1 220px}.btn-inline[_ngcontent-%COMP%]{background:var(--color-white);color:var(--color-primary);border:2px solid var(--color-primary)}.btn-inline[_ngcontent-%COMP%]:hover{background:var(--color-primary);color:var(--color-white)}.navigation-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--spacing-md);margin:var(--spacing-xl) auto 0;max-width:1000px;padding-bottom:var(--spacing-xl)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.progress-wizard[_ngcontent-%COMP%]{gap:4px}.step-label[_ngcontent-%COMP%]{font-size:.7rem}.step-number[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}.step-divider[_ngcontent-%COMP%]{width:30px}.barbers-grid[_ngcontent-%COMP%], .services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.time-slots-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.booking-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.booking-top-bar[_ngcontent-%COMP%]{margin-bottom:var(--spacing-sm)}.summary-actions[_ngcontent-%COMP%]{flex-direction:column}.summary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;flex:1 1 auto}.navigation-buttons[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 576px){.time-slots-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.back-button[_ngcontent-%COMP%]{width:100%;justify-content:center}}']})};export{G as ServiceBookingComponent};
